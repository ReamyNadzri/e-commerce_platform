<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link href="https://fonts.cdnfonts.com/css/product-sans" rel="stylesheet">
    
    <title>E-commerce Platform</title>

    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top" style="height: 14vh; position: sticky; top: 0; z-index: 1020;">
            <div class="container-fluid" style="width: 130vh;">
                <a class="navbar-brand mx-auto" style="font-size: 2rem;" href="#">Nasi Segera (Nasi Lemak)</a>
                <btn class="btn btn-outline-success" type="button">Login</btn>
            </div>
        </nav>
    </header>

</head>
<body>
    <div class="container mt-2" style="width: 140vh">
        <div class="row border w3-round-xlarge bg-light shadow-sm">
            <div class="col-md-5 d-flex flex-column align-items-center">
                <img id="productImage" src="sources/nasilemak.png" class="card-img-top enlarge-image mb-auto w3-padding" alt="Product Image" style="width: 110%; height: auto;">
                <div class="row mt-3 w-100">
                    <div class="col">
                        <img src="sources/nasilemak.png" class="img-thumbnail w-60" width="130" onclick="changeImage('sources/nasilemak.png')" alt="Image 1">
                    </div>
                    <div class="col">
                        <img src="sources/nutrisinasilemak.webp" class="img-thumbnail w-60" width="130" onclick="changeImage('sources/nutrisinasilemak.webp')" alt="Image 2">
                    </div>
                    <div class="col">
                        <img src="sources/caramemasak.webp" class="img-thumbnail w-60" width="130" onclick="changeImage('sources/caramemasak.webp')" alt="Image 2">
                    </div>
                    <script>
                        function changeImage(imageSrc) {
                            document.getElementById('productImage').src = imageSrc;
                        }
                    </script>
                </div><br>
            </div>
            <div class="col-md-7">
                <div class="border w3-margin w3-padding w3-round-xlarge bg-white shadow-sm">
                    <h2 class="text-primary">Nasi Segera (Nasi Lemak)</h2>
                </div>
                <div class="border w3-margin w3-padding w3-round-xlarge row bg-white shadow-sm"><hr>
                    <p class="text-secondary">Maklumat Pemakanan</p>
                    <div class="col-md-4">
                        <p>Saiz Hidangan</p>
                        <p>Masa Hidangan</p>
                    </div>
                    <div class="col-md-8">
                        <p>: 90g</p>
                        <p>: 8 Minit</p>
                    </div>
                    <hr>
                    <form id="orderForm">
                        <p class="text-secondary">Maklumat Pembelian</p>
                        <p>Pilih Jenis</p>
                        <div class="row w3-margin-left">
                            <div class="col-md-6 form-check">
                                <input class="form-check-input" type="radio" name="cook" id="cook" value="cook" onclick="updateBuyButton()">
                                <label class="form-check-label" for="cook"> Siap Dimasak (+RM0.50/item)</label>
                            </div>
                            <div class="col-md-6 form-check">
                                <input class="form-check-input" type="radio" name="cook" id="notcook" value="notcook" checked onclick="updateBuyButton()">
                                <label class="form-check-label" for="notcook"> Tidak Dimasak</label>
                            </div>
                        </div>
                        <hr>
                        <p>Pilih Penghantaran</p>
                        <div class="row w3-margin-left">
                            <div class="col-md-6 form-check">
                                <input class="form-check-input" type="radio" name="delivery" id="pickup" value="pickup" onclick="updateBuyButton()" checked>
                                <label class="form-check-label" for="pickup"> Pickup</label>
                            </div>
                            <div class="col-md-6 form-check">
                                <input class="form-check-input" type="radio" name="delivery" id="pickup_sutera" value="pickup_sutera" onclick="updateBuyButton()">
                                <label class="form-check-label" for="pickup_sutera"> Pickup Sutera</label>
                            </div>
                            <div class="col-md-6 form-check">
                                <input class="form-check-input" type="radio" name="delivery" id="delivery" value="delivery" onclick="updateBuyButton()">
                                <label class="form-check-label" for="delivery"> Penghantaran</label>
                            </div>
                            <div class="col-md-6 form-check">
                                <input class="form-check-input" type="radio" name="delivery" id="delivery_sutera" value="delivery_sutera" onclick="updateBuyButton()">
                                <label class="form-check-label" for="delivery_sutera"> Penghantaran Sutera (+RM1/item)</label>
                            </div>
                        </div>
                        <hr>
                        <p class="text-secondary">Cara Pembayaran<br><small class="w3-margin-left"><i>Jenis pembayaran hanya melalui e-wallet sahaja.</i></small></p>
                        <div class="row w3-margin-left">
                            <div class="col-md-6 form-check">
                                <input class="form-check-input" type="radio" name="payment" id="cash" value="cash" onclick="updateBuyButton()">
                                <label class="form-check-label" for="cash"> Cash</label>
                            </div>
                            <div class="col-md-6 form-check">
                                <input class="form-check-input" type="radio" name="payment" id="e_wallet" value="e_wallet" onclick="updateBuyButton()" checked>
                                <label class="form-check-label" for="e_wallet"> E-Wallet</label>
                            </div>
                        </div>
                        <hr>
                        <div class="row w3-margin-left mt-auto">
                            <div class="col-md-6 d-flex align-items-center">
                                <button class="btn btn-outline-secondary" type="button" onclick="decreaseQuantity()">-</button>
                                <input type="text" id="quantity" value="1" class="form-control text-center mx-2" style="width: 50px;" readonly>
                                <button class="btn btn-outline-secondary" type="button" onclick="increaseQuantity()">+</button>
                            </div>
                            <div class="col-md-6">
                                <button class="btn btn-success w-100" style="font-size: 1.3rem;" type="submit" id="buyButton">Beli - RM3</button>
                            </div><hr>
                        </div>
                    </form>
                    <script>
                        //quantity 
                        const pricePerItem = 3;

                        function updateBuyButton() {
                            var quantity = document.getElementById('quantity').value;
                            var cookType = document.querySelector('input[name="cook"]:checked').value;
                            var deliveryType = document.querySelector('input[name="delivery"]:checked').value;

                            var additionalCost = 0;
                            if (cookType === 'cook') {
                                additionalCost += 0.5;
                            }
                            if (deliveryType === 'delivery_sutera') {
                                additionalCost += 1;
                            }

                            var totalPrice = (parseFloat(pricePerItem) + additionalCost) * quantity;
                            var buyButton = document.getElementById('buyButton');
                            buyButton.innerHTML = `Beli - RM${totalPrice.toFixed(2)}`;
                        }

                        function increaseQuantity() {
                            var quantity = document.getElementById('quantity');
                            quantity.value = parseInt(quantity.value) + 1;
                            updateBuyButton();
                        }

                        function decreaseQuantity() {
                            var quantity = document.getElementById('quantity');
                            if (quantity.value > 1) {
                                quantity.value = parseInt(quantity.value) - 1;
                                updateBuyButton();
                            }
                        }

                        // Initialize the button text on page load
                        updateBuyButton();
                    </script>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>